<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Materialize CSS CDN And Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="../style.css">

    <title>Home </title>
    <style>
        .search-bar {
            position: relative;
        }

        .search-result {
            background-color: red;
            position: absolute;
            bottom: -70px;
            left: 50px;
            visibility: hidden;
            z-index: 1;
        }

        .search-bar input:focus~.search-result {
            visibility: visible;
        }

    </style>
</head>

<body>
    <div id="app">

        <!-- Nav Bar -->
        <div class="navbar-fixed">
            <nav>
                <div class="nav-wrapper white">
                    <div class="container">
                        <a href="/" class="brand-logo">Logo</a>


                        <ul id="nav-mobile" class="right hide-on-med-and-down">
                            <li class="search-bar">
                                <div class="center row">
                                    <div class="col s12">
                                        <div class="row" id="topbarsearch">
                                            <div class="input-field col s12">
                                                <i class="black-text material-icons prefix">search</i>
                                                <input type="text" placeholder="search" id="search-input"
                                                    class="autocomplete">

                                                <div class="search-result">
                                                    <ul>
                                                        <li>123</li>
                                                        <li>123</li>
                                                        <li>123</li>
                                                    </ul>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>



                            <li>
                                <a href="/#/messages">
                                    <i class="material-icons">mail_outline</i>
                                </a>
                            </li>
                            <li>
                                <a href="/#/notifications">
                                    <i class="material-icons">notifications_none</i>
                                </a>
                            </li>
                            <li>
                                <a href="/#/profile">
                                    <i class="material-icons">person_outline</i>
                                </a>
                            </li>
                            <li>
                                <a href="/#/logout">
                                    Logout
                                </a>
                            </li>


                        </ul>
                    </div>
                </div>
            </nav>
        </div>

        <div class="container">
            <div class="row">
                <!-- Side Bar -->
                <div id="aside" class="col s2">
                    <div class="collection">
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">home</i>Home
                        </a>
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">people</i>Friend
                        </a>
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">notifications_none</i>Notifications
                        </a>
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">mail_outline</i>Messages
                        </a>
                    </div>
                </div>

                <!-- Main Posts -->
                <div id="main" class="col s7">
                    <div class="row">
                        <div class="col s12">
                            <div class="card">

                                <div class="card-content">
                                    <div class="row">
                                        <div class="col s2">
                                            <img src="https://www.genmyanmar.org/assets/medium/member.png" alt="avatar"
                                                style="height: 50px;" class="responsive-img circle valign-wrapper">
                                        </div>
                                        <div class="col s10">
                                            <p>
                                                Jack123
                                            </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col s12">
                                            <p>
                                                Test content...
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-image">
                                    <img src="https://materializecss.com/images/sample-1.jpg">
                                    <span class="card-title">Card Title</span>
                                </div>

                                <div class="card-action">
                                    <a class="grey-text" href="">2 likes</a>
                                    <a style="float: right;" class="grey-text" href="">1 comments</a>
                                    <br><br>
                                    <div class="divider"></div>
                                    <br>
                                    <div class="row">
                                        <a class="col s4 offset-s2" href="#">Like</a>
                                        <a class="col s4" style="float: right;" href="#">Comment</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>


                <!-- Suggestion -->
                <div class="col s3">
                    <div class="collection with-header">
                        <div class="collection-header">
                            <h5>Suggestion</h5>
                        </div>

                        <a href="#!" class="collection-item">
                            <i class="material-icons left">person_outline</i>Person1
                        </a>
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">person_outline</i>Person2
                        </a>
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">person_outline</i>Person3
                        </a>
                        <a href="#!" class="collection-item">
                            <i class="material-icons left">person_outline</i>Person4
                        </a>
                    </div>

                </div>

            </div>
        </div>
    </div>



    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="../init.js"></script>
    <!-- Main js file -->
    <script type="module" src="../app.js"></script>
    <script>
        const searchInput = document.querySelector("#search-input")
        const navbarList = document.querySelector("#nav-mobile")
        const searchResult = document.querySelector(".search-result")
        const searchResultList = document.querySelector(".search-result > ul")
        const people = ["Jack", "Ja123", "Jack01"]

        searchInput.addEventListener('input', displayMatches)

        function findMatch(word, people) {
            return people.filter(person => {
                let regex = new RegExp(word, "gi")
                return person.match(regex)
            })
        }

        function displayMatches() {
            console.log('start input')
            let matchArrays = findMatch(this.value, people)
            let html = matchArrays.map(person => {
                return `
                <li>
                    ${person}
                </li>
                `
            }).join('')
            console.log(html)

            searchResultList.innerHTML = html
            console.log(searchResultList)
        }



    </script>
</body>

</html>
